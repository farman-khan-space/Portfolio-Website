{% set navigation = [
  { text: 'Home', url: '/' },
  { text: 'Portfolio', url: '/portfolio/' },
  { text: 'Blog', url: '/blog/' },
  { text: 'About', url: '/about/' },
  { text: 'Contact', url: '/contact/' }
] %}

<header class="fixed top-0 left-0 w-full z-50 bg-white/[1] dark:bg-background/[1] backdrop-blur-10xl border-b border-primary/[0.1] shadow-sm">
    <div class="container mx-auto px-6 max-w-7xl">
        <div class="flex justify-between items-center h-20">
            <a href="/" aria-label="Farman Khan Home" class="group">
                <div class="flex items-center space-x-4 dark:hidden transition-transform duration-300 group-hover:-translate-y-0.5">
                    <img src="{{ '/img/logo-light.svg' | url }}" alt="Logo" class="h-10 hidden sm:block transition-shadow group-hover:drop-shadow-lg">
                    <img src="{{ '/img/wordmark-light.svg' | url }}" alt="Farman Khan" class="h-8 transition-shadow group-hover:drop-shadow-lg">
                </div>
                <div class="hidden items-center space-x-4 dark:flex transition-all duration-300 group-hover:-translate-y-0.5 group-hover:dark:drop-shadow-[0_0_8px_rgba(220,38,38,0.7)]">
                    <img src="{{ '/img/logo-dark.svg' | url }}" alt="Logo" class="h-10 hidden sm:block">
                    <img src="{{ '/img/wordmark-dark.svg' | url }}" alt="Farman Khan" class="h-8">
                </div>
            </a>
    
            <nav class="hidden md:flex space-x-2">
              {%- for item in navigation -%}
                {# This is the updated, more specific condition #}
                {% set isActive = (item.url == '/' and page.url == '/') or (item.url != '/' and page.url.startsWith(item.url)) %}
                <a href="{{ item.url | url }}" 
                   class="nav-link px-4 py-2 {% if isActive %}text-primary font-bold{% endif %}">
                  {{ item.text }}
                </a>
              {%- endfor -%}
            </nav>
    
            <div class="md:hidden z-50">
                <button id="menu-toggle" class="p-2 -mr-2 rounded-md" aria-label="Open navigation menu">
                    <svg id="menu-icon-open" class="h-6 w-6" xmlns="http://www.w.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                    </svg>
                    <svg id="menu-icon-close" class="h-6 w-6 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
        </div>
    </div>
</header>